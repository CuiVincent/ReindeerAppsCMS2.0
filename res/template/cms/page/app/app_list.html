{% extends "../../../base_index.html" %}
{% block title %}{{_('APP management')}}{% end %}
{% block title_button %}
<button class="btn btn-primary btn-sm" onclick="doAdd();"><span class="glyphicon glyphicon-plus-sign"
                                                                aria-hidden="true"></span>&nbsp;{{_('Create')}}
</button>
<button class="btn btn-success btn-sm" onclick="doRefresh();"><span class="glyphicon glyphicon-refresh"
                                                                    aria-hidden="true"></span>
</button>
{%end%}
{% block content %}
{% include '../../../common_header_ragrid.html' %}
{% include '../../../common_header_dialog.html' %}
{% include '../../../common_header_validate.html' %}
<script>
    $(document).ready(function () {
        initRaGrid('grid', '/cms/app', null, function (row) {
            return [
                {'btn': 'primary', 'onclick': 'doView(\'' + row['ID'] + '\');', 'icon': 'glyphicon-search'},
                {'btn': 'info', 'onclick': 'doEdit(\'' + row['ID'] + '\');', 'icon': 'glyphicon-pencil'},
                {'btn': 'reindeer', 'onclick': 'doDelete(\'' + row['ID'] + '\');', 'icon': 'glyphicon-trash'},
                {'btn': 'warning', 'onclick': 'doLog(\'' + row['ID'] + '\');', 'icon': 'glyphicon-file'},
                {'btn': 'success', 'onclick': 'doMonitor(\'' + row['ID'] + '\');', 'icon': 'glyphicon-scale'}
            ];
        }, function () {
        }, ['ID', 'NAME', 'ICON_TYPE', 'ICON']);
    });

    function doView(aid) {
        toPage('/cms/app/' + aid);
    }

    function doEdit(aid) {
        toPage('/cms/app/' + aid);
    }

</script>
<div id="grid">
</div>
{% include 'app_add.html' %}
{% include 'app_delete.html' %}
{% end %}